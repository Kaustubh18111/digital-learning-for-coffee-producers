{% extends 'base.html' %}
{% block content %}
  <section class="forum">
    <h2>Community Q&amp;A Forum</h2>

    <div class="ask-form">
      <h3>Ask a Question</h3>
      <form action="{{ url_for('new_post') }}" method="POST" id="new-post-form">
        <label>Subject
          <input type="text" name="title" placeholder="Subject" required />
        </label>
        <label>Body
          <textarea name="content" rows="5" placeholder="Describe your question" required></textarea>
        </label>
        <button type="submit" class="btn">Submit</button>
      </form>
    </div>

    <div class="forum-list">
      <h3>Recent Posts</h3>
      <ul class="posts">
        {% for post, user in posts_with_users %}
        <li class="post-item">
          <h4>{{ post.title }}</h4>
          <p class="meta">by {{ user.username }} Â· 0 replies</p>
          <p style="font-size: 0.85rem; margin-top: 5px;">{{ post.content }}</p>
        </li>
        {% else %}
          <p>No posts in the forum yet. Be the first!</p>
        {% endfor %}
      </ul>
    </div>
  </section>
{% endblock %}
