/*
 * GITHUB DARK + COFFEE THEME
 */

/* 1. Define our new "Coffee" accent colors */
[data-bs-theme="dark"] {
  /* This is our main "coffee" button color */
  --bs-primary: #C4A484; /* "Crema" */
  --bs-primary-rgb: 196, 164, 132;
  --bs-primary-text-emphasis: #FFF;
  --bs-primary-bg-subtle: #3E3025;
  --bs-primary-border-subtle: #85684F;
  
  /* This is our "success" color */
  --bs-success: #2f855a; /* "Green Bean" */
  --bs-success-rgb: 47, 133, 90;
  --bs-success-text-emphasis: #FFF;
  --bs-success-bg-subtle: #0F2B1D;
  --bs-success-border-subtle: #1E593A;

  /* This is the main page background */
  --bs-body-bg: #0D1117; 
  /* This is for cards, navbars, etc. */
  --bs-body-tertiary-bg: #161B22; 
  /* This is for borders */
  --bs-border-color: #30363D;
  --bs-body-color: #C9D1D9;
  --bs-body-color-rgb: 201, 209, 217;
  
  --bs-link-color: var(--bs-primary);
  --bs-link-color-rgb: var(--bs-primary-rgb);
  --bs-link-hover-color: #D2B48C; /* Lighter tan */
}

/* 2. Style all Bootstrap components to use the new colors */
.btn-primary {
  --bs-btn-bg: var(--bs-primary);
  --bs-btn-border-color: var(--bs-primary);
  --bs-btn-hover-bg: #D2B48C;
  --bs-btn-hover-border-color: #D2B48C;
  --bs-btn-active-bg: #D2B48C;
  --bs-btn-active-border-color: #D2B48C;
  --bs-btn-color: #332211; /* Dark text for light button */
  --bs-btn-hover-color: #332211;
  --bs-btn-active-color: #332211;
}

.btn-success {
  --bs-btn-bg: var(--bs-success);
  --bs-btn-border-color: var(--bs-success);
  --bs-btn-hover-bg: #3c9d6f;
  --bs-btn-hover-border-color: #3c9d6f;
  --bs-btn-color: #FFF;
  --bs-btn-hover-color: #FFF;
}

/* Fix text color on buttons */
.btn {
  font-weight: 600;
}

/* 3. Tweak the Skillshare layout for the new dark theme */
.course-player-layout {
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: 2rem;
}

@media (max-width: 1024px) {
  .course-player-layout {
    grid-template-columns: 1fr;
  }
  .module-sidebar {
    grid-row: 1;
    margin-bottom: 1.5rem;
  }
}

.video-container {
  position: relative;
  padding-top: 56.25%; /* 16:9 */
  height: 0;
  background: #000;
  border-radius: var(--bs-border-radius);
  overflow: hidden;
}

.video-container #youtube-player {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}

.module-sidebar {
  /* bg-body-tertiary will be #161B22 */
  background: var(--bs-body-tertiary-bg);
  border: 1px solid var(--bs-border-color);
  border-radius: var(--bs-border-radius);
  padding: 1rem;
  height: fit-content;
  max-height: 90vh;
  overflow-y: auto;
}

.module-sidebar .list-group-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-size: 0.9rem;
  /* Make list items transparent to show sidebar bg */
  --bs-list-group-bg: transparent; 
  --bs-list-group-border-color: var(--bs-border-color);
}

.module-sidebar .list-group-item.active {
  /* Use the subtle "coffee" background for active module */
  background-color: var(--bs-primary-bg-subtle);
  border-color: var(--bs-primary-border-subtle);
  color: var(--bs-primary);
  font-weight: bold;
}

.module-sidebar .list-group-item input[type="checkbox"] {
  flex-shrink: 0;
  pointer-events: none;
  /* Style the checkbox */
  --bs-form-check-bg: var(--bs-body-bg);
  --bs-form-check-border: var(--bs-border-color);
}

/* 4. Tweak the Login Page */
/* Make the two-column card on login page look right */
.card-body .bg-light {
  background-color: var(--bs-body-tertiary-bg) !important;
}

/* 5. Tweak Forum Page */
.list-group-item-action:hover {
  background-color: var(--bs-body-tertiary-bg);
}

/*
 * 5. NEW SIDEBAR LAYOUT
 */

body {
  /* This prevents the main content from scrolling when sidebar overflows */
  overflow: hidden;
}

.page-wrapper {
  display: grid;
  grid-template-columns: 280px 1fr; /* Sidebar width | Content */
  height: 100vh;
}

.sidebar {
  height: 100vh;
  overflow-y: auto;
  /* Use the GitHub dark color for the sidebar */
  background-color: #161B22 !important; 
}

.content-wrapper {
  height: 100vh;
  overflow-y: auto; /* This makes the *content* scrollable */
  display: flex;
  flex-direction: column;
}

.content-wrapper main {
  flex-grow: 1; /* Makes the main content push the footer down */
}

/* Style sidebar links */
.sidebar .nav-link {
  font-weight: 500;
  color: var(--bs-body-color);
}

.sidebar .nav-link:hover {
  background-color: var(--bs-body-tertiary-bg);
}

/* Active link style */
.sidebar .nav-link.active {
  background-color: var(--bs-primary-bg-subtle);
  color: var(--bs-primary);
  font-weight: 600;
}

/* Handle mobile */
@media (max-width: 992px) {
  .page-wrapper {
    grid-template-columns: 1fr; /* Stack on mobile */
  }
  .sidebar {
    height: auto; /* Let sidebar be normal height */
    position: static;
  }
  .content-wrapper, body {
    height: auto;
    overflow-y: visible;
  }
  .sidebar .navbar-brand {
    display: none; /* Hide brand in main content area */
  }
  /* This is a simple mobile nav, not a fancy slide-out */
}
